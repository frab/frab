%section
  .page-header
    .d-flex.flex-column.flex-md-row.justify-content-between.align-items-start.align-items-md-center.gap-3.mb-4
      %h1.mb-0= t('people_module.list_of_people')
      .btn-toolbar{role: "toolbar", "aria-label": "People management tools"}
        - if policy(@conference).manage?
          .btn-group{role: "group", "aria-label": "Person actions"}
            = action_button '<i class="bi bi-plus-circle"></i> '.html_safe + '<span class="d-none d-sm-inline ms-1">'.html_safe + t('people_module.add_person') + '</span>'.html_safe, new_person_path, title: t('people_module.add_person_hint'), class: "btn btn-primary"
  %ul.nav.nav-tabs
    %li.nav-item
      = link_to t('this_conference'), people_path, class: 'nav-link active'
    %li.nav-item
      = link_to t('speakers'), speakers_people_path, class: 'nav-link'
    %li.nav-item
      = link_to t('people_module.all_people'), all_people_path, class: 'nav-link'
  - if params[:term].blank? and @people.all.empty?
    .card.border-0.bg-light.text-center.py-5
      .card-body
        %i.bi.bi-people.fs-1.text-muted.mb-3
        - if Person.count <= 1
          %h5.text-muted.mb-2= t('people_module.no_people_title', default: 'No People Yet')
          %div.text-muted= raw(markdown_render(t('people_module.no_people_data')))
          - if policy(@conference).manage?
            .mt-3
              = link_to new_person_path, class: 'btn btn-primary' do
                %i.bi.bi-plus-circle.me-2
                = t('people_module.add_person')
        - else
          %h5.text-muted.mb-2= t('people_module.no_people_involved_title', default: 'No People in Conference')
          %div.text-muted= raw(markdown_render(t('people_module.no_people_involved')))
  - else
    = render 'shared/search_and_table', collection: @people
