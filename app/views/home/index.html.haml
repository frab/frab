- content_for :title do
  = link_to 'frab - home', root_url, class: 'navbar-brand'

%section
  .page-header
    .d-flex.flex-column.flex-md-row.justify-content-between.align-items-start.align-items-md-center.gap-3.mb-4
      %h1.display-6.fw-bold.mb-0.text-dark= t('titles.conferences_list')
      .btn-toolbar{role: "toolbar", "aria-label": "Home page tools"}
        - if policy(Conference).new?
          .btn-group{role: "group", "aria-label": "Conference creation"}
            = action_button '<i class="bi bi-plus-circle"></i> '.html_safe + '<span class="d-none d-sm-inline ms-1">'.html_safe + t('conferences_module.add_conference') + '</span>'.html_safe, new_conference_path, hint: t('conferences_module.add_conference_hint'), class: "btn btn-primary"
        - if policy(Conference).orga?
          .btn-group.ms-2{role: "group", "aria-label": "Management actions"}
            = action_button '<i class="bi bi-gear"></i> '.html_safe + '<span class="d-none d-lg-inline ms-1">'.html_safe + t('conferences_module.manage_conferences') + '</span>'.html_safe, conferences_path, hint: t('conferences_module.manage_conferences_hint'), class: "btn btn-outline-primary"
            = action_button '<i class="bi bi-search"></i> '.html_safe + '<span class="d-none d-lg-inline ms-1">'.html_safe + t('conferences_module.search') + '</span>'.html_safe, conferences_path, hint: t('conferences_module.search_hint'), class: "btn btn-outline-secondary"

  %ul.nav.nav-tabs
    %li.nav-item
      = link_to t('conferences_module.current_conferences'), root_path, class: "nav-link #{'active' if active_class?(root_path)}"
    %li.nav-item
      = link_to t('conferences_module.past_conferences'), past_conferences_path, class: "nav-link #{'active' if active_class?(past_conferences_path)}"

  - if Conference.all.empty?
    .card.border-0.bg-light.text-center.py-5
      .card-body
        %i.bi.bi-building.fs-1.text-muted.mb-3
        %h5.text-muted.mb-2= t('conferences_module.no_conference')
        - if policy(Conference).new?
          %p.text-muted.small.mb-3= t('conferences_module.welcome_hint', default: 'Welcome to frab! Start by creating your first conference.')
          = link_to new_conference_path, class: 'btn btn-primary btn-lg' do
            %i.bi.bi-plus-circle.me-2
            = t('conferences_module.add_conference')

  - elsif @conferences.empty?
    .card.border-0.bg-light.text-center.py-5
      .card-body
        %i.bi.bi-calendar-x.fs-1.text-muted.mb-3
        %h5.text-muted.mb-2= t('conferences_module.no_conference_with_cfp')
        %p.text-muted.small= t('conferences_module.no_cfp_hint', default: 'No conferences are currently accepting submissions.')

  - else
    = render 'table', collection: @conferences
    - if @conferences.respond_to?(:total_pages) && @conferences.total_pages > 1
      .d-flex.justify-content-center.mt-3
        = will_paginate @conferences

  %hr

  - content_for :footer do
    .row.justify-content-center
      .col-lg-8.col-md-10
        .card.border-0.bg-light
          .card-body.text-center.py-4
            = raw(markdown_render(t('frab_footer')).gsub('<p>', '<p class="mb-3 text-muted">').gsub('<a ', '<a class="text-primary fw-medium text-decoration-none" '))
