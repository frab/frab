- day_id = "day_" + day.id.to_s
.availability-slider-wrapper{ id: day_id, data: { controller: "availability-slider", "availability-slider-day-id-value": day.id, "availability-slider-timeslot-duration-value": conference.timeslot_duration, "availability-slider-utc-offset-value": day.start_date.utc_offset, "availability-slider-min-value": day.start_date.to_i, "availability-slider-max-value": day.end_date.to_i, "availability-slider-from-value": availability.start_date.to_i, "availability-slider-to-value": availability.end_date.to_i } }
  %h4
    = l day.start_date, format: :day
    = t('availabilities.available_from')
    %span.start_date{ data: { "availability-slider-target": "startLabel" } }
      = l day.start_date, format: :pretty_datetime
    = t('availabilities.available_to')
    %span.end_date{ data: { "availability-slider-target": "endLabel" } }
      = l day.end_date, format: :pretty_datetime

  .form-check.mb-3
    = check_box_tag t('availabilities.alerts.available_for_day', day: day.label), '1', false, class: 'form-check-input', data: { "availability-slider-target": "checkbox" }
    = label_tag t('availabilities.alerts.available_for_day', day: day.label), t('available'), class: 'form-check-label'

  .availability-time-display.mb-2
    .d-flex.justify-content-between.align-items-center
      %small.text-muted
        = t('availabilities.available_from')
        %span.start_date.fw-bold.text-primary{ data: { "availability-slider-target": "startLabel" } }
          = l day.start_date, format: :time
      %small.text-muted
        = t('availabilities.available_to')
        %span.end_date.fw-bold.text-primary{ data: { "availability-slider-target": "endLabel" } }
          = l day.end_date, format: :time

  = f.simple_fields_for :availabilities, availability do |af|
    = af.input :start_date, as: :hidden, input_html: { data: { "availability-slider-target": "startInput" } }
    = af.input :end_date, as: :hidden, input_html: { data: { "availability-slider-target": "endInput" } }
    = af.input :conference_id, as: :hidden
    = af.input :day_id, as: :hidden

    %range-slider.mb-3{ data: { "availability-slider-target": "slider" }, name: "availability-#{day.id}" }
      %div{ data: { track: "" } }
      %div{ data: { track_fill: "" } }
      %div{ data: { runnable_track: "" } }
        %div{ data: { thumb: "" }, "aria-label": t('availabilities.start_time') }
        %div{ data: { thumb: "" }, "aria-label": t('availabilities.end_time') }

